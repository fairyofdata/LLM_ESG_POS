**🌐 Available Versions:**  [🇰🇷 英語(English)](/README.md) | [🇯🇵 한국어(Korean)](/README_KR.md)  

---

# LLMベース ESG重視ポートフォリオ最適化サービス📊🌱

> 🏆🥈光云大学第8回産学ソフトウェアプロジェクト展示会優秀賞(2位)  
> 🏆🥈光云大学AI融合大学2024年卒業展示会優秀賞(2位)

![Status](https://img.shields.io/badge/status-active-success)
![Release](https://img.shields.io/badge/release-v2.0-blue)
![Python](https://img.shields.io/badge/python-3.8+-blue)
![License](https://img.shields.io/badge/license-MIT-green)

このリポジトリは**LLMベースESG重視ポートフォリオ最適化サービス**プロジェクトをホスティングしています。ESG（環境、社会、ガバナンス）基準と高度なポートフォリオ最適化技術を統合することで、このサービスはユーザーにパーソナライズされたESG主導の投資ポートフォリオを提供します。大規模言語モデル（LLM）を使用してテキストデータを処理・評価することで、投資家は企業のESGスコアを評価し、自分の好みに基づいて最適化されたポートフォリオを生成することができます。

## UI/UXに焦点を当てたプロジェクト紹介
**UI/UX紹介ビデオを見たい場合は、下の![YouTube](https://img.shields.io/badge/YouTube-%23FF0000.svg?style=for-the-badge&logo=YouTube&logoColor=white)ビデオサムネイルをクリックしてください。**

（申し訳ありませんが、このタブを維持したい場合は、サムネイルを右クリックして**「新しいタブでリンクを開く」**を選択してください。）

[![動画タイトル](https://img.youtube.com/vi/kHAtgLC4PJY/0.jpg)](https://www.youtube.com/watch?v=kHAtgLC4PJY)

## 目次
1. [プロジェクト概要](#プロジェクト概要)
2. [主な機能](#主な機能)
3. [インストール](#インストール)
4. [使用方法](#使用方法)
5. [プロジェクト構造](#プロジェクト構造)
6. [使用技術](#使用技術)
7. [要件](#要件)
8. [将来の拡張](#将来の拡張)
9. [新機能](#新機能-2024年アップデート)
10. [バージョン履歴](#バージョン履歴)
11. [貢献](#貢献)
12. [サポートとフィードバック](#サポートとフィードバック)
13. [ライセンス](#ライセンス)
14. [概要](#概要)

## プロジェクト概要
近年、ESGは企業の長期的な持続可能性と安定性を評価する重要な指標となっています。しかし、従来のESG評価方法は、非専門家の投資家にとって透明性とアクセス性に欠けることが多いです。このプロジェクトは、LLMを使用したユーザー中心の透明なESG評価システムを提供することでこれらの問題に対処します。LLMはテキストベースの評価を実行し、Black-Littermanモデルを適用してポートフォリオを最適化します。これにより、システムはユーザーの好みに応じてESG要素と財務リターンのバランスを取ったカスタマイズされたポートフォリオを生成します。

### 主要目標
1. **技術的実装**: LLMを使用したESG評価パイプラインを開発し、最適化されたポートフォリオを生成する。
2. **ユーザー中心のサービス**: ユーザーが選択した基準と好みに基づいたESG評価による個別のポートフォリオ構築を提供する。

## 主な機能
1. **テキストデータの収集と処理**  
   - `Selenium`と`BeautifulSoup`を使用して、様々なソースから選択された企業に関連する記事を収集し、効率的な管理のために`MongoDB`にデータを保存します。
   - 収集されたデータを前処理し、企業名を匿名化し、関連のない内容をフィルタリングして高いデータ品質を確保します。
   
2. **LLMベースのESGスコアリング**
   - LLM（OpenAI API活用）を使用して、ESG関連性に基づいて収集された記事を評価し、ESG要素と感情に従ってコンテンツを抽出しラベリングします。
   - 分類のために`KoElectra`モデルを微調整し、API依存なしで独立したESG評価を可能にします。

3. **包括的なESG評価**
   - ユーザー入力を活用して、ESG要素（環境、社会、ガバナンス）の重みを調整し、カスタマイズされたスコアを提供します。
   - 投資スタイルの好みに応じてスコアを動的に調整：財務中心、ESG中心、またはバランス。
   - 複数のESG評価機関の基準を統合したスコアモデルを適用し、包括的なスコアを構築し、主要機関対象外の企業の評価を可能にします。

4. **Black-Littermanモデルによる向上したポートフォリオ最適化**
   - 複数の評価機関（MSCI、S&P、Sustainalytics、ISS、ESG基準院）のESGデータを使用して、年度別最適化アプローチを実装します。
   - 堅牢な共分散行列推定のためにLedoit-Wolf法を活用し、数値的安定性を向上させます。
   - ユーザー信頼重みをESGスコアに適用し、Black-Littermanモデルのためのパーソナライズされた見解ベクトルを生成します。
   - `scipy.optimize`の二次計画法を通じてシャープレシオを最大化し、最適化されたポートフォリオの重みを計算します。
   - 年度別投資重みを保存・分析し、時間に伴うポートフォリオのパフォーマンス（2020〜2025年）を追跡します。
   - データギャップと数値計算の問題に対する堅牢なエラー処理を実装します。

5. **Streamlitを使用したユーザーインターフェース**
   - ユーザーフレンドリーなインターフェースにより、ユーザーはESG好みを入力し、最適化されたポートフォリオを視覚化できます。
   - ESGの重みと投資スタイルのためのインタラクティブなスライダーを提供し、パーソナライズされたポートフォリオを直感的に構築できるようにします。
   - 期待リターン、ボラティリティ、シャープレシオを含むポートフォリオ指標の視覚化を提供します。

## インストール
1. **リポジトリのクローン**:
   ```bash
   git clone https://github.com/fairyofdata/LLM-ESG-POS.git
   cd LLM-ESG-POS
   ```

2. **必要なパッケージのインストール**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Streamlitアプリケーションの実行**:
   ```bash
   streamlit run app.py
   ```

## 使用方法
1. **データ収集**: 記事収集のための企業ティッカーとデータソースを設定します。
2. **ESG好みの設定**: Streamlit UIを使用して、環境、社会、ガバナンス要素の重みを定義します。
3. **投資スタイルの選択**: 財務中心、ESG中心、またはバランスポートフォリオオプションから選択します。
4. **ポートフォリオ結果の表示**: 期待リターンとボラティリティを含むポートフォリオ構成とパフォーマンス指標を確認します。

## プロジェクト構造
![構造図](https://github.com/fairyofdata/LLM.ESG.POS/blob/master/%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EA%B5%AC%EC%84%B1%EB%8F%84.drawio.png)

```plaintext
├── data/                   # データおよびESGスコアテーブル
├── src/                    # ESGスコアリングとポートフォリオ最適化のためのソースコード
│   ├── data_processing.py   # LLMベーステキスト処理
│   ├── esg_scoring.py       # ESGスコアリング関数
│   ├── portfolio_optimization.py  # Black-Littermanによる最適化
│   └── ui/                  # Streamlit UIコード
├── app.py                  # メインアプリケーションスクリプト
├── README.md               # プロジェクトドキュメント
└── requirements.txt        # 依存関係リスト
```

## 使用技術
- **データ処理**: Python, Pandas, NumPy
- **ウェブスクレイピング**: Selenium, BeautifulSoup4
- **データベース**: MongoDB
- **機械学習**: scikit-learn, KoElectra
- **ポートフォリオ最適化**: Black-Littermanモデル, SciPy, cvxopt
- **データ可視化**: Plotly, Matplotlib
- **UI/UX**: Streamlit
- **LLM統合**: OpenAI API

## 要件
- Python 3.8+
- scikit-learn 1.0.0+
- pandas 1.3.0+
- numpy 1.20.0+
- streamlit 1.10.0+
- yfinance 0.1.70+
- FinanceDataReader 0.9.0+

## 将来の拡張
1. **拡張されたESG評価**: 追加のESG評価ソースを統合し、リアクティブなスコアリングのためのリアルタイムニュース更新を追加します。
2. **非上場企業への拡張性**: LLMを活用してスタートアップや非公開企業を評価するスコアリングメカニズムを開発します。
3. **最適化の改善された制約条件**: より良いポートフォリオ多様化のためのセクター別制約条件を含めます。
4. **時系列ポートフォリオ分析**: 年度別最適化アプローチを拡張して、歴史的パフォーマンス比較とトレンド分析を提供します。

## 新機能 (2024年アップデート)
- **年度別ポートフォリオ最適化**: 複数年にわたる投資パフォーマンスの追跡
- **複数機関ESGデータ統合**: 5大主要ESG評価機関からの包括的なスコアリング
- **向上した安定性**: 改善された共分散推定と数値計算技術
- **インタラクティブなポートフォリオ可視化**: ポートフォリオ構成とパフォーマンスに関する詳細な洞察

## バージョン履歴
- **v2.0** (2025年3月): 向上した最適化アルゴリズムと複数機関ESGデータ統合
- **v1.0** (2024年11月): 基本的なESGスコアリングとポートフォリオ最適化を含む初期リリース

## 貢献
貢献は歓迎します！このプロジェクトを改善したい場合は、次の手順に従ってください：
1. リポジトリをフォークします
2. 機能ブランチを作成します（`git checkout -b feature/amazing-feature`）
3. 変更を加えてコミットします（`git commit -m 'Add amazing feature'`）
4. ブランチにプッシュします（`git push origin feature/amazing-feature`）
5. プルリクエストを開きます

## サポートとフィードバック
問題が発生した場合や改善のための提案がある場合は、GitHubリポジトリに問題を提出してください。

## ライセンス
このプロジェクトはMITライセンスの下で提供されています。詳細については[LICENSE](LICENSE)ファイルを参照してください。

## 概要
**光云大学第8回産学協力SWプロジェクト＆AI融合卒業プロジェクト**
- **指導教授**: 趙敏洙教授（光云大学情報融合学部）
- **参加企業**: Billions Lab（表秀珍博士）
- **貢献者**: Team KWargs（白知憲(PM)、金娜延、張漢宰）
