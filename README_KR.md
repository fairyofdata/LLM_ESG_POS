**🌐 Available Versions:**  [🇰🇷 영어 (English)](/README.md) | [🇯🇵 日本語 (Japanese)](/README_JP.md)  

---

# LLM 기반 ESG 중심 포트폴리오 최적화 서비스📊🌱

> 🏆🥈광운대학교 제8회 산학 소프트웨어 프로젝트 전시회 우수상(2위)  
> 🏆🥈광운대학교 AI융합대학 2024년 졸업전시회 우수상(2위)

![Status](https://img.shields.io/badge/status-active-success)
![Release](https://img.shields.io/badge/release-v2.0-blue)
![Python](https://img.shields.io/badge/python-3.8+-blue)
![License](https://img.shields.io/badge/license-MIT-green)

이 저장소는 **LLM 기반 ESG 중심 포트폴리오 최적화 서비스** 프로젝트를 호스팅합니다. ESG(환경, 사회, 지배구조) 기준과 고급 포트폴리오 최적화 기법을 통합하여 사용자에게 개인화된 ESG 중심 투자 포트폴리오를 제공합니다. 대규모 언어 모델(LLM)을 사용하여 텍스트 데이터를 처리하고 평가함으로써 투자자들이 기업의 ESG 점수를 평가하고 자신의 선호도에 따라 최적화된 포트폴리오를 생성할 수 있습니다.

## UI/UX 중심 프로젝트 소개
**UI/UX 소개 영상을 보고 싶으시면 아래 ![YouTube](https://img.shields.io/badge/YouTube-%23FF0000.svg?style=for-the-badge&logo=YouTube&logoColor=white) 동영상 썸네일을 클릭하세요.**

(죄송하지만 이 탭을 유지하고 싶으시면 썸네일을 마우스 오른쪽 버튼으로 클릭하고 **'새 탭에서 링크 열기'**를 선택해 주세요.)

[![영상 제목](https://img.youtube.com/vi/kHAtgLC4PJY/0.jpg)](https://www.youtube.com/watch?v=kHAtgLC4PJY)

## 목차
1. [프로젝트 개요](#프로젝트-개요)
2. [주요 기능](#주요-기능)
3. [설치](#설치)
4. [사용법](#사용법)
5. [프로젝트 구조](#프로젝트-구조)
6. [사용된 기술](#사용된-기술)
7. [요구사항](#요구사항)
8. [향후 확장](#향후-확장)
9. [새로운 기능](#새로운-기능-2024-업데이트)
10. [버전 이력](#버전-이력)
11. [기여하기](#기여하기)
12. [지원 및 피드백](#지원-및-피드백)
13. [라이선스](#라이선스)
14. [소개](#소개)

## 프로젝트 개요
최근 몇 년간 ESG는 기업의 장기적 지속가능성과 안정성을 평가하는 중요한 지표가 되었습니다. 그러나 전통적인 ESG 평가 방법은 비전문가 투자자들에게 투명성과 접근성이 부족한 경우가 많습니다. 이 프로젝트는 LLM을 사용하는 사용자 중심의 투명한 ESG 평가 시스템을 제공하여 이러한 문제를 해결합니다. LLM은 텍스트 기반 평가를 수행하고 블랙-리터만 모델을 적용하여 포트폴리오를 최적화합니다. 이를 통해 시스템은 사용자 선호도에 따라 ESG 요소와 재무적 수익의 균형을 맞춘 맞춤형 포트폴리오를 생성합니다.

### 핵심 목표
1. **기술적 구현**: LLM을 사용한 ESG 평가 파이프라인을 개발하고 최적화된 포트폴리오를 생성합니다.
2. **사용자 중심 서비스**: 사용자가 선택한 기준과 선호도에 따라 ESG 평가를 기반으로 한 개인화된 포트폴리오 구성을 제공합니다.

## 주요 기능
1. **텍스트 데이터 수집 및 처리**  
   - `Selenium`과 `BeautifulSoup`을 사용하여 다양한 소스에서 선택된 기업과 관련된 기사를 수집하고 효율적인 관리를 위해 `MongoDB`에 데이터를 저장합니다.
   - 수집된 데이터를 전처리하여 기업 이름을 익명화하고 관련 없는 내용을 필터링하여 높은 데이터 품질을 보장합니다.
   
2. **LLM 기반 ESG 점수화**
   - LLM(OpenAI API 활용)을 사용하여 ESG 관련성에 따라 수집된 기사를 평가하고, ESG 요소와 감성에 따라 콘텐츠를 추출하고 라벨링합니다.
   - 분류를 위해 `KoElectra` 모델을 미세 조정하여 API 의존성 없이 독립적인 ESG 평가를 가능하게 합니다.

3. **종합적인 ESG 평가**
   - 사용자 입력을 활용하여 ESG 요소(환경, 사회, 지배구조)에 대한 가중치를 조정하여 맞춤형 점수를 제공합니다.
   - 투자 스타일 선호도에 따라 점수를 동적으로 조정: 재무 중심, ESG 중심 또는 균형.
   - 여러 ESG 평가 기관의 기준을 통합하는 점수 모델을 적용하여 종합적인 점수를 구축하고, 주요 기관 대상 외의 기업에 대한 평가를 가능하게 합니다.

4. **블랙-리터만 모델을 통한 향상된 포트폴리오 최적화**
   - 여러 평가 기관(MSCI, S&P, Sustainalytics, ISS, ESG기준원)의 ESG 데이터를 사용하여 연도별 최적화 접근법을 구현합니다.
   - 견고한 공분산 행렬 추정을 위해 Ledoit-Wolf 방법을 활용하여 수치적 안정성을 향상시킵니다.
   - 사용자 신뢰 가중치를 ESG 점수에 적용하여 블랙-리터만 모델에 대한 개인화된 견해 벡터를 생성합니다.
   - `scipy.optimize`의 이차 프로그래밍을 통해 샤프 비율을 최대화하여 최적화된 포트폴리오 가중치를 계산합니다.
   - 연도별 투자 가중치를 저장하고 분석하여 시간에 따른 포트폴리오 성과(2020-2025)를 추적합니다.
   - 데이터 격차와 수치 계산 문제에 대한 강력한 오류 처리를 구현합니다.

5. **Streamlit을 이용한 사용자 인터페이스**
   - 사용자 친화적인 인터페이스로 사용자가 ESG 선호도를 입력하고 최적화된 포트폴리오를 시각화할 수 있습니다.
   - ESG 가중치와 투자 스타일을 위한 대화형 슬라이더를 제공하여 개인화된 포트폴리오를 직관적으로 구성할 수 있습니다.
   - 예상 수익률, 변동성, 샤프 비율을 포함한 포트폴리오 지표 시각화를 제공합니다.

## 설치
1. **저장소 복제**:
   ```bash
   git clone https://github.com/fairyofdata/LLM-ESG-POS.git
   cd LLM-ESG-POS
   ```

2. **필요한 패키지 설치**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Streamlit 애플리케이션 실행**:
   ```bash
   streamlit run app.py
   ```

## 사용법
1. **데이터 수집**: 기사 수집을 위한 기업 티커와 데이터 소스를 구성합니다.
2. **ESG 선호도 설정**: Streamlit UI를 사용하여 환경, 사회, 지배구조 요소에 대한 가중치를 정의합니다.
3. **투자 스타일 선택**: 재무 중심, ESG 중심 또는 균형 포트폴리오 옵션 중에서 선택합니다.
4. **포트폴리오 결과 보기**: 예상 수익률과 변동성을 포함한 포트폴리오 구성 및 성과 지표를 확인합니다.

## 프로젝트 구조
![구조도](https://github.com/fairyofdata/LLM.ESG.POS/blob/master/%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EA%B5%AC%EC%84%B1%EB%8F%84.drawio.png)

```plaintext
├── data/                   # 데이터 및 ESG 점수 테이블
├── src/                    # ESG 점수화 및 포트폴리오 최적화를 위한 소스 코드
│   ├── data_processing.py   # LLM 기반 텍스트 처리
│   ├── esg_scoring.py       # ESG 점수화 함수
│   ├── portfolio_optimization.py  # 블랙-리터만을 통한 최적화
│   └── ui/                  # Streamlit UI 코드
├── app.py                  # 메인 애플리케이션 스크립트
├── README.md               # 프로젝트 문서
└── requirements.txt        # 의존성 목록
```

## 사용된 기술
- **데이터 처리**: Python, Pandas, NumPy
- **웹 스크래핑**: Selenium, BeautifulSoup4
- **데이터베이스**: MongoDB
- **머신러닝**: scikit-learn, KoElectra
- **포트폴리오 최적화**: Black-Litterman 모델, SciPy, cvxopt
- **데이터 시각화**: Plotly, Matplotlib
- **UI/UX**: Streamlit
- **LLM 통합**: OpenAI API

## 요구사항
- Python 3.8+
- scikit-learn 1.0.0+
- pandas 1.3.0+
- numpy 1.20.0+
- streamlit 1.10.0+
- yfinance 0.1.70+
- FinanceDataReader 0.9.0+

## 향후 확장
1. **확장된 ESG 평가**: 추가 ESG 평가 소스를 통합하고 반응형 점수화를 위한 실시간 뉴스 업데이트를 추가합니다.
2. **비상장 기업에 대한 확장성**: LLM을 활용하여 스타트업 및 비공개 기업을 평가하는 점수화 메커니즘을 개발합니다.
3. **최적화의 개선된 제약조건**: 더 나은 포트폴리오 다양화를 위한 섹터별 제약조건을 포함합니다.
4. **시계열 포트폴리오 분석**: 연도별 최적화 접근법을 확장하여 역사적 성과 비교 및 추세 분석을 제공합니다.

## 새로운 기능 (2024 업데이트)
- **연도별 포트폴리오 최적화**: 여러 해에 걸친 투자 성과 추적
- **다중 기관 ESG 데이터 통합**: 5대 주요 ESG 평가 기관의 종합적인 점수화
- **향상된 안정성**: 개선된 공분산 추정 및 수치 계산 기법
- **대화형 포트폴리오 시각화**: 포트폴리오 구성 및 성과에 대한 상세한 인사이트

## 버전 이력
- **v2.0** (2025년 3월): 향상된 최적화 알고리즘 및 다중 기관 ESG 데이터 통합
- **v1.0** (2024년 11월): 기본 ESG 점수화 및 포트폴리오 최적화를 포함한 초기 출시

## 기여하기
기여는 환영합니다! 이 프로젝트를 개선하고 싶으시면 다음 단계를 따라주세요:
1. 저장소를 포크합니다
2. 기능 브랜치를 생성합니다 (`git checkout -b feature/amazing-feature`)
3. 변경사항을 만들고 커밋합니다 (`git commit -m 'Add amazing feature'`)
4. 브랜치에 푸시합니다 (`git push origin feature/amazing-feature`)
5. Pull Request를 엽니다

## 지원 및 피드백
문제가 발생하거나 개선을 위한 제안이 있으시면 GitHub 저장소에 이슈를 제출해 주세요.

## 라이선스
이 프로젝트는 MIT 라이선스 하에 제공됩니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.

## 소개
**광운대학교 제8회 산학협력 SW 프로젝트 & AI융합 졸업 프로젝트**
- **지도교수**: 조민수 교수 (광운대학교 정보융합학부)
- **참여기업**: Billions Lab (표수진 박사)
- **기여자**: Team KWargs (백지헌(PM), 김나연, 장한재)


